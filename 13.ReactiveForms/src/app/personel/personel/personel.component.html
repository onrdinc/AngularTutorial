<h1>Reactive Form ile Personel Ekleme</h1>
@if (!isUpdateFormActive) {
    <div>
        <form [formGroup]="addForm">
            <div>
                Personel Adı
                <input formControlName="name" type="text">
            </div>
            <div>
                Bölümü
                <select formControlName="profession">
                    <option>Muhasebe</option>
                    <option>Finans</option>
                    <option>Yazılım</option>
                </select>
            </div>
            <div>
                İşe Giriş Tarihi
                <input formControlName="startingDate" type="date">
            </div>
            <div>
                <button [disabled]="!addForm.valid" (click)="save()">
                    Kaydet
                </button>
            </div>
        </form>
    </div>
}

@if (isUpdateFormActive) {
    <div>
        <form [formGroup]="updateForm">
            <div>
                Personel Adı
                <input formControlName="name" type="text">
            </div>
            <div>
                Bölümü
                <select formControlName="profession">
                    <option>Muhasebe</option>
                    <option>Finans</option>
                    <option>Yazılım</option>
                </select>
            </div>
            <div>
                İşe Giriş Tarihi
                <input formControlName="startingDate" type="date">
            </div>
            <div>
                <button [disabled]="!updateForm.valid" (click)="update()">
                    Güncelle
                </button>
                <button (click)="cancel()">Vazgeç</button>
            </div>
        </form>
    </div>
}

<hr>
<table>
    <thead>
        <tr>
            <th>#</th>
            <th>Personel Adı</th>
            <th>Bölümü</th>
            <th>İşe Giriş Tarihi</th>
            <th>İşlemler</th>
        </tr>
    </thead>
    <tbody>
        @for (item of employees; track $index) {
        <tr>
            <td>{{$index+1}}</td>
            <td>{{item.name}}</td>
            <td>{{item.profession}}</td>
            <td>{{item.startingDate | date:'dd.MM.yyyy'}}</td>
            <td><button (click)="get(item,$index)">Güncelle</button></td>
        </tr>
        }

    </tbody>
</table>